# 🎨 ImageBuilder — 像素画快速建造工具

> **将图片直接打印到 Minecraft 世界中。**

ImageBuilder 是一款 Endstone 插件，允许你将本地图片（PNG/JPG 等）转换为 Minecraft 中的方块像素画，并在世界中直接建造出来。

---

## ✨ 核心特性

* **🚀 静默执行:** 建造命令在后台静默运行，不会干扰玩家聊天栏。
* **📦 分块处理:** 自动将大型图像拆分为小块异步建造，有效防止服务器瞬时卡顿。
* **🔄 自动重试:** 针对因区块未加载等原因导致的放置失败，插件会自动进行重试。
* **🖼️ 预览生成:** 转换时自动生成像素化的预览图，确保最终建造效果符合预期。
* **⚡ 高效跨平台:** 采用 C++ 编写，利用 `stb` 库进行高性能图像处理，可在数秒内完成转换并在极短时间内完成建造。

---

## 📁 目录结构

插件在首次运行时会自动创建以下目录：

```text
./plugins/img_print/
├── images/     <-- 📥 放入你的原始图片 (支持 .png, .jpg 等)
└── output/     <-- 📤 自动生成的 CSV 数据与预览图
└── language/     <-- 🌐 语言配置文件

```

---

## 🧰 指令说明

| 指令 | 说明 |
| --- | --- |
| `/img-p ls` | 列出所有可用图片以及已经转换好的输出文件。 |
| `/img-p convert <编号>` | 将指定的原始图片（根据列表编号）转换为 CSV 数据文件。 |
| `/img-p print <编号>` | 在你当前位置开始建造指定的输出文件（根据列表编号）。 |

**快速开始示例：**

1. `/img-p convert 1` → 将 `images/` 中的第一个文件转为 CSV 数据。
2. `/img-p print 1` → 在你脚下用 `output/` 中的第一个 CSV 开始建造。

---

## ⚙️ 注意事项

* **尺寸调整:** 图像会被自动缩放为 **128×128** 像素。
* **进度显示:** 建造过程分块执行，每完成一块会实时显示进度（如 `3 / 10`）。
* **权限要求:** 需要 **OP** 权限方可执行相关指令。

---

## 🛠️ 安装方法

1. 将 `img_print.dll` (或 `.so`) 放入服务器的 `plugins` 文件夹。
2. 重启服务器以生成必要的目录。
3. 将图片放入 `plugins/img_print/images/` 即可开始创作！
   

## 🙏 鸣谢
图像处理核心源自 [stb](https://github.com/nothings/stb) 库。